% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_zone_exclusioned_rf_model_with_cv.R
\name{get_zone_exclusioned_rf_model_with_cv}
\alias{get_zone_exclusioned_rf_model_with_cv}
\title{Random Forest Model with Cross-validation and Exclusion}
\usage{
get_zone_exclusioned_rf_model_with_cv(
  ml_formatted_scores_df,
  Undersample = FALSE,
  best.m = NULL,
  testReps,
  indeterminateUpper,
  indeterminateLower,
  Type
)
}
\arguments{
\item{Undersample}{A logical value indicating whether to perform undersampling to
balance the classes in the training data. Defaults to \code{FALSE}.}

\item{best.m}{A numeric value representing the best number of variables (\code{mytry})
to use at each split in the Random Forest model. This can be manually set or
determined through optimization.}

\item{testReps}{An integer specifying the number of test repetitions. This must
be at least 2, as the function relies on multiple test sets to assess the model performance.}

\item{indeterminateUpper}{A numeric value indicating the upper bound for the
predicted probability to consider a prediction indeterminate. Predictions with
probabilities within this range are marked as indeterminate.}

\item{indeterminateLower}{A numeric value indicating the lower bound for the
predicted probability to consider a prediction indeterminate. Predictions with
probabilities within this range are marked as indeterminate.}

\item{Type}{An integer indicating the type of feature importance to use in the
Random Forest model. Typically, \code{1} for "Mean Decrease Accuracy" or \code{2} for "Mean Decrease Gini".}

\item{Data}{A data frame containing the features and the target variable \code{Target_Organ}
to train the Random Forest model on.}
}
\value{
A list containing two components:
\describe{
\item{performance_metrics}{A vector with the aggregated performance metrics,
including sensitivity, specificity, accuracy, and others, calculated across
all test repetitions.}
\item{raw_results}{A list containing the raw performance metrics for each repetition,
including sensitivity, specificity, and accuracy.}
}
}
\description{
This function implements a Random Forest classification model
with cross-validation and allows for undersampling, handling indeterminate
predictions, and calculating various model performance metrics such as
sensitivity, specificity, and accuracy. It tracks the proportion of indeterminate
predictions and provides an aggregated performance summary across multiple test repetitions.
}
\examples{
\dontrun{
# Example usage
Data <- your_data_frame  # Replace with actual dataset
results <- get_zone_exclusioned_rf_model_with_cv(Data = Data,
                                                 Undersample = TRUE,
                                               best.m = 5,
                                                testReps = 10,
                                                indeterminateUpper = 0.8,
                                                indeterminateLower = 0.2,
                                                 Type = 1)

 View the aggregated performance metrics
print(results$performance_metrics)

 Access raw results for further analysis
print(results$raw_results)
}

}
\seealso{
\link[randomForest]{randomForest}, \link[caret]{confusionMatrix}
}
